# 법제처 Open API 조문 수집기

한국 법령 정보를 법제처 Open API를 통해 수집하는 크롤러 모음입니다.

## 📋 주요 기능

- 법령 검색 및 다운로드 (법인세법, 소득세법 등)
- 판례, 헌재결정례, 행정심판례 조회
- 위원회 결정문 수집
- 법령 체계도 및 연혁 조회
- 영문법령 조회

## 🚀 빠른 시작

### 1. 설정 파일 생성

`API_law.yaml` 파일을 생성하고 이메일 ID를 입력합니다:

```yaml
email_id: your_email@example.com
```

> 💡 법제처 Open API는 이메일 ID의 @ 앞부분을 인증키(OC)로 사용합니다.

### 2. 기본 실행

```bash
# 법인세법 다운로드
python process-01-law-api.py

# 대화형 검색
python process-01-law-api-interactive.py

# 전체 API 테스트
python process-01-law-api-test-all.py
```

## 📁 파일 구조

```
process-01-crawler/
├── API_law.yaml                        # API 인증 설정
├── process-01-law-api.py              # 기본 다운로더
├── process-01-law-api-interactive.py  # 대화형 검색 도구
├── process-01-law-api-advanced.py     # 고급 기능
├── process-01-law-api-test-all.py     # 전체 API 테스트
├── test_gpt.py                         # 자동 엔드포인트 탐색 테스트
└── _cache/                             # 다운로드 결과 저장
    └── YYYYMMDD_HHMMSS/               # 실행 시간별 폴더
```

## 🔧 각 스크립트 설명

### process-01-law-api.py
- **용도**: 특정 법령을 검색하고 다운로드
- **기능**: 법령 검색, HTML/XML 형식 다운로드
- **사용 예시**: 법인세법, 소득세법 등 세법 수집

### process-01-law-api-interactive.py
- **용도**: 사용자 입력을 받아 대화형으로 법령 검색
- **기능**: 
  - 실시간 검색어 입력
  - 검색 결과 목록에서 선택
  - 다양한 형식으로 다운로드

### process-01-law-api-advanced.py
- **용도**: 고급 검색 기능
- **기능**:
  - 복잡한 검색 조건 (날짜, 소관부처, 법령구분)
  - 대량 다운로드
  - 통계 생성

### process-01-law-api-test-all.py
- **용도**: 법제처 Open API 전체 엔드포인트 테스트
- **기능**:
  - 법령, 판례, 위원회 결정문 등 모든 API 테스트
  - 작동 여부 확인
  - 테스트 결과 리포트 생성

### test_gpt.py
- **용도**: 법제처 가이드 페이지에서 자동으로 API 엔드포인트 발견 및 테스트
- **기능**:
  - 가이드 페이지 자동 크롤링
  - 샘플 URL 자동 추출 및 호출
  - 민감정보 자동 제거

## 📊 API 엔드포인트

### 법령 관련
- 현행법령 목록/본문 조회
- 시행일 법령 목록/본문 조회
- 법령 연혁 목록/본문 조회
- 조항호목 단위 조회
- 위임법령 조회

### 판례/결정례
- 판례 목록/본문 조회
- 헌재결정례 목록/본문 조회
- 법령해석례 목록/본문 조회
- 행정심판례 목록/본문 조회

### 위원회 결정문
- 공정거래위원회
- 국민권익위원회
- 개인정보보호위원회
- 국가인권위원회

### 부가서비스
- 법령 체계도
- 신구법 비교
- 법령용어 사전

## 🔒 보안 및 개인정보 보호

모든 스크립트는 민감정보를 자동으로 제거합니다:
- API 인증키(OC 파라미터) 자동 마스킹
- 이메일 주소 자동 제거
- 저장된 파일에서 민감정보 제거

## 📝 출력 형식

### XML 형식
```xml
<?xml version="1.0" encoding="UTF-8"?>
<law>
    <법령명한글>법인세법</법령명한글>
    <시행일자>20250701</시행일자>
    <조문내용>...</조문내용>
</law>
```

### JSON 형식
```json
{
  "법령명한글": "법인세법",
  "시행일자": "20250701",
  "조문내용": "..."
}
```

### HTML 형식
웹 브라우저에서 볼 수 있는 HTML 형식


## 📚 참고 자료

- [법제처 Open API 가이드](https://open.law.go.kr/LSO/openApi/guideList.do)
- [국가법령정보센터](https://www.law.go.kr)

---

*이 크롤러는 법제처 Open API를 사용하여 공공데이터를 수집합니다.*